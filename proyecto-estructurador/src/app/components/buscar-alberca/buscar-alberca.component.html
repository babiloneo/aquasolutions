
<div class="contenedor">


  <div class="botones">
      <form >
          <input type="text" [(ngModel)]="busqueda" placeholder="ID de Alberca">
          <input type="submit" href="inicio.html" value="Buscar Alberca"  >
      </form>
    
  </div>

	<div class="datos">

		<table class="table-hover">
				<tr>
          <th>Nombre</th>
          <th>Ubicacion</th>
          <th>Acciones</th>
        </tr>

        <tr *ngFor="let alberca of albercas | search: busqueda">
          <td>{{alberca.Alb_Nombre}}</td>
          <td>{{alberca.Alb_Ubicacion}}</td>
          <td class="acciones">
            <button class="btn btn-lg btn-success" (click)="openModal(ver)" style="margin-right:10px;">

              <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> Ver
            </button>

            <ng-template #ver>
              <div class="modal-header">
                <h1 class="modal-title pull-left">{{alberca.Alb_Nombre}}</h1>
                <button type="button"  class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            <div class="modal-body">
                <div class="alberca-box" *ngIf="alberca">
                  <div class="alberca-head-card">
                    <img src="{{url+'get-image-alberca/' +alberca.Alb_Image}}" alt="">
                  </div>
                  <div class="alberca-data">
                    <h3>{{alberca.Alb_Ubicacion}}</h3>
                    <p>{{alberca.Alb_Capacidad}}</p>
                  </div>
                </div>
            </div>  
          </ng-template>


            <button class="btn btn-lg btn-danger" (click)="openModal(template)" style="margin-right:10px;">
              <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Borrar
            </button>

            <ng-template #template >
              <div class="modal-header">
                <h2 class="modal-title pull-left">¿Estas seguro?</h2>
                <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            <div class="modal-body">
                <p>¿Seguro que desea eliminar este registro:  <strong>{{alberca.Alb_Nombre}}</strong>?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-lg btn-primary" (click)="modalRef.hide()">Cerrar</button>
                <button type="button" class="btn btn-lg btn-danger" (click)="deleteAlberca(alberca._id)" (click)="modalRef.hide()">Borrar</button>
            </div>            
          </ng-template>

            <a [routerLink]="['/registrar_sensor',alberca._id]" class="btn btn-lg btn-primary">
              <span class="glyphicon glyphicon-flash" aria-hidden="true"></span> Sensor
            </a>

          </td>
        </tr>
		</table>	
	</div>


	</div> <!-- fin contenedor-->
